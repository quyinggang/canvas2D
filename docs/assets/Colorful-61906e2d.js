import{a as w}from"./index-5fec9d05.js";import{_ as g,r as _,o as y,a as R,b as E,c as b,d as x,p as C,e as F}from"./index-810f2352.js";const B=c=>(C("data-v-54f5a5dd"),c=c(),F(),c),I=B(()=>x("span",{class:"tip"},"拖动鼠标查看效果",-1)),k={__name:"Colorful",setup(c){const u=_(null),p=_(null);return y(()=>{const t=u.value.getBoundingClientRect(),a=p.value,i=window.devicePixelRatio;a.width=i*t.width,a.height=i*t.height;const o=a.getContext("2d");o.scale(i,i);let l=null;const s=[],f=()=>o.clearRect(0,0,t.width,t.height);function r(e,n,d,h){this.x=e,this.y=n,this.radius=d,this.color=h,this.dx=Math.random()*12-7,this.dy=Math.random()*12-7,s.push(this)}r.prototype.render=function(){const{x:e,y:n,color:d,radius:h}=this;o.fillStyle=d,o.beginPath(),o.arc(e,n,h,0,2*Math.PI),o.fill(),o.closePath()},r.prototype.update=function(){if(this.x+=this.dx,this.y+=this.dy,this.radius=parseFloat((this.radius-.8).toFixed(2)),this.radius<=0)for(let e=0,n=s.length;e<n;e++)s[e]===this&&s.splice(e,1)};const m=()=>{f(),s.forEach(e=>{e.update(),e.render()}),l=window.requestAnimationFrame(m)};a.onmouseleave=()=>{f(),l&&window.cancelAnimationFrame(l)},a.onmouseover=()=>{m()},a.onmousemove=e=>{new r(e.pageX-t.left,e.pageY-t.top,20,w())},R(()=>window.cancelAnimationFrame(l))}),(v,t)=>(E(),b("div",{class:"box",ref_key:"boxElementRef",ref:u},[I,x("canvas",{class:"canvas",ref_key:"canvasElementRef",ref:p},null,512)],512))}},S=g(k,[["__scopeId","data-v-54f5a5dd"]]);export{S as default};
