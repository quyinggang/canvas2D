import{g}from"./index-4243d227.js";import{_ as w,r as _,o as y,a as R,b as E,c as b,d as x,p as C,e as F}from"./index-472deb67.js";const B=c=>(C("data-v-18f6c384"),c=c(),F(),c),I=B(()=>x("span",{class:"tip"},"拖动鼠标查看效果",-1)),k={__name:"Colorful",setup(c){const u=_(null),p=_(null);return y(()=>{const t=u.value.getBoundingClientRect(),s=p.value,i=window.devicePixelRatio;s.width=i*t.width,s.height=i*t.height;const o=s.getContext("2d");o.scale(i,i);let l=null;const n=[],f=()=>o.clearRect(0,0,t.width,t.height);function r(e,a,d,h){this.x=e,this.y=a,this.radius=d,this.color=h,this.dx=Math.random()*12-7,this.dy=Math.random()*12-7,n.push(this)}r.prototype.render=function(){const{x:e,y:a,color:d,radius:h}=this;o.fillStyle=d,o.beginPath(),o.arc(e,a,h,0,2*Math.PI),o.fill(),o.closePath()},r.prototype.update=function(){if(this.x+=this.dx,this.y+=this.dy,this.radius=parseFloat((this.radius-.8).toFixed(2)),this.radius<=0)for(let e=0,a=n.length;e<a;e++)n[e]===this&&n.splice(e,1)};const m=()=>{f(),n.forEach(e=>{e.update(),e.render()}),l=window.requestAnimationFrame(m)};s.onmouseleave=()=>{f(),l&&window.cancelAnimationFrame(l)},s.onmouseover=()=>{m()},s.onmousemove=e=>{new r(e.pageX-t.left,e.pageY-t.top,20,g())},R(()=>window.cancelAnimationFrame(l))}),(v,t)=>(E(),b("div",{class:"box",ref_key:"boxElementRef",ref:u},[I,x("canvas",{class:"canvas",ref_key:"canvasElementRef",ref:p},null,512)],512))}},S=w(k,[["__scopeId","data-v-18f6c384"]]);export{S as default};
