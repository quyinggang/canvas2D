import{g as E}from"./index-4243d227.js";import{r as p,o as P,a as k,b as S,c as B,d as L}from"./index-081d04d0.js";const I={__name:"Dynamic",setup(F){const u=p(null),g=p(null);return P(()=>{let y=null;const l=u.value.getBoundingClientRect(),m=g.value,d=window.devicePixelRatio;m.width=d*l.width,m.height=d*l.height;const o=m.getContext("2d");o.scale(d,d);const h=[],c={width:l.width,height:l.height};class v{constructor(e,t,i,n){this.x=e,this.y=t,this.radius=i,this.color=n,this.dx=Math.random(),this.dy=Math.random()}update(e){this.x=e.x,this.y=e.y,this.dx=e.dx,this.dy=e.dy}render(){const{x:e,y:t,radius:i,color:n}=this;o.fillStyle=n,o.beginPath(),o.arc(e,t,i,0,2*Math.PI),o.fill(),o.closePath()}}class _{constructor(e,t){this.start=e,this.end=t,this.lineWidth=1}render(){const{start:e,end:t,lineWidth:i}=this,n=o.createLinearGradient(e.x,e.y,t.x,t.y);n.addColorStop(0,e.color),n.addColorStop(1,t.color),o.strokeStyle=n,o.lineWidth=i,o.beginPath(),o.moveTo(e.x,e.y),o.lineTo(t.x,t.y),o.stroke(),o.closePath()}}const b=()=>{for(let s=0;s<20;s++){const e=Math.max(Math.random()*10,5),t=e/2;let i=Math.random()*c.width,n=Math.random()*c.height;i=Math.max(t,Math.min(i,c.width-t)),n=Math.max(t,Math.min(n,c.height-t));const f=E(),a=new v(i,n,e,f);h.push(a)}},w=()=>{o.clearRect(0,0,c.width,c.height);for(let s=0,e=h.length;s<e;s++){const t=h[s],i=t.radius,n={x:t.x<c.width-i&&t.x>i?t.dx:-t.dx,y:t.y<c.height-i&&t.y>i?t.dy:-t.dy},f={x:t.x+n.x,y:t.y+n.y,dx:n.x,dy:n.y};for(let a=0;a<e;a++)if(a!==s){const r=h[a],x={x:t.x-r.x,y:t.y-r.y};if(Math.sqrt(x.x*x.x+x.y*x.y)<=600){const R={x:t.x,y:t.y,color:t.color},C={x:r.x,y:r.y,color:r.color};new _(R,C).render()}}t.update(f),t.render()}y=window.requestAnimationFrame(w)};b(),w(),k(()=>window.cancelAnimationFrame(y))}),(y,M)=>(S(),B("div",{class:"box",ref_key:"boxElementRef",ref:u},[L("canvas",{class:"canvas",ref_key:"canvasElementRef",ref:g},null,512)],512))}};export{I as default};
